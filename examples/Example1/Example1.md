# Контрольный пример №1

## 1 Экспериментальное подтверждение работоспособности компонента "Инструментарий параллельной обработки когнитивных карт"

Пример является экспериментальным подтверждением работоспособности компонента "Инструментарий параллельной обработки когнитивных карт", которое заключается в сравнении вариантов обсчета (оптимизации) когнитивных карт на одномашинной вычислительной системе и на многомашинном варианте. В качестве данных для примера взят пример, использовавшийся ранее для подтверждения концепции использования вероятностных когнитивных карт. 

## 2 Начальные данные

### 2.1 Легенда

Имеется нефтяное поле в центре которого расположена добывающая скважина. Вокруг добывающей скважины имеются разведочные скважины.

В процессе добычи нефти может возникать ситуация, когда темпы выдачи превышают дебит скважины. Это может приводить как к остановке добычи, так и к поломкам добывающего оборудования. Скважины связаны между собой за счет пористости нефтеносного пласта. При помощи воздействия на скважины (например, закачкой балласта в виде воды) или связи между ними (например, применяя гидроразрыв пласта) имеется возможность влиять на переток нефти между скважинами.

Задача: с помощью воздействия на имеющиеся скважины и связи между ними, добиться бездефицитной добычи нефти в добывающей скважине.

### 2.2 Начальная когнитивная карта

Начальный пример взят из работ 2022 года с целью подтверждения результатов, полученый в течкущем году. Поле размером 4x4 (рис. 1), описано равномерно распределенными на плоскости вершинами К1—К16. Точка изъятия ресурса К17 (добывающая скважина) располагается в геометрическом центре поля. Связи между вершинами двунаправленные, имеют модуль веса равный 0,1 (положительные веса для точек К1—К16, разнознаковые для точки отбора ресурса).

![Рис. 1](pics/xPic1.png)

_Рис. 1 — Начальный вид моделируемой системы_

[Файл с начальной когнитивной картой](data/Example1-1Init.cmj)

Результат моделирования представлен на рис. 2.

![Рис. 2](pics/xPic2.png)

_Рис. 2 — Результат моделирования жизненного цикла начальной системы (объем ресурса в точке изъятия К17)_

В процессе моделирование объем ресурса в точке изъятия в течение первых 4-5 шагов моделирования стабилизируется в районе отметки +0,12. Это является хорошим результатом, так как показывает, что в долгосрочной перспективе не происходит исчерпания ресурса, что снижало бы эффективность рассматриваемой системы.

Негативным результатом моделирования представляется то, что на 2 шаге моделирования создается дефицит ресурса, что можно интерпретировать примерно как ситуацию вида «восполнение ресурса в точке его изъятия не успевает осуществляться за счет перетока ресурсов из соседних областей в силу большой интенсивности изъятия».

В реальности объем ресурса, естественно, не был бы отрицательным — это можно интерпретировать как локальное по времени уменьшение скорости  изъятия ресурса из рассматриваемого пространства, либо как временную приостановку изъятия ресурса. В любом случае такое развитие ситуации является недопустимым или, по крайней мере, нежелательным.

## 3 Решение, полученное человеком

Для того, чтобы избавиться от кратковременного дефицита ресурса, который возникает в процессе моделирования, необходимо внести в структуру системы изменения, которые повлияют на ее поведение.

Самым очевидным способом избавиться от дефицита ресурса, является снижение темпа его изъятия. Однако, это ведет к снижению эффективности, что, по своей сути, не сильно отличается от ситуации, когда система не меняется и мы смиряемся с ее неэффективностью. Данный способ рассматриваться далее не будет.

Рассмотрим еще два способа повышения эффективности изъятия ресурса в моделируемой системе:
1 создание дополнительной вершины,
2 модификация связей у точки изъятия.

Если рядом с точкой изъятия ресурса создать дополнительную вершину, связанную с ней связями с достаточно высокой пропускной способностью, то есть вероятность того, что переток ресурса из такого дополнительного источника сможет компенсировать дефицит, вызываемый излишне интенсивным изъятием.

Это достаточно очевидное утверждение. Поэтому, собственно задачей является определение того, на сколько «широкой» должна быть такая связь между вершинами.

Как показывает моделирование, введение дополнительной вершины (К18) (рис. 3) со связью, которая обеспечивает очень быстрый переток ресурса (0,7 вместо 0,1), действительно может исправить ситуацию (рис. 4).

![Рис. 3](pics/xPic3.png)

_Рис. 3 — Модифицированная система с дополнительной вершиной (К18)_

![Рис. 4](pics/xPic4.png)

_Рис. 4 — Результат моделирования жизненного цикла модифицированной системы с одной дополнительной вершиной_

В процессе моделирования не наблюдается образования дефицита ресурса, его объем стабилизируется с течением времени на отметке около +0,78.

[Файл с решением, полученным человеком](data/Example1-2Human.cmj)

## 4 Решение, полученное ИИ (2022 год)

В процессе обработки начальной когнитивной карты при помощи алгоритмов адаптивной оптимизации выполнения производственных процессов на основе интеллектуальных технологий с использованием когнитивного анализа параметров производственной среды и тенденций в производственных процессах в нефтегазовой отрасли был получен набор вариантов воздействия на систему с целью решения задачи избежания достижения дефицитного состояния точки изъятия ресурса из поля рассматриваемого пространства.

Указанные варианты можно разделить на три условных класса:

1 изменение системы методом введения дополнительных вершин,

2 изменение системы методом модификации существующих между вершинами связей,

3 гибридные варианты, объединяющие в себе два предыдущих класса.

Указанные варианты воздействия на систему показали свою работоспособность в процессе моделирования систем «пространство-ресурс».

Рассмотрим наиболее эффективный из них (рис. 5).

![Рис. 5](pics/xPic5.png)

_Рис. 5 — Решение задачи с помощью алгоритма адаптивной оптимизации выполнения производственных процессов на основе когнитивного анализа параметров производственной среды_

Как видно на представленном изображении в систему не вводились дополнительные вершины - ИИ обошелся модификацией уже существующих и созданием несколькизх новых дуг на графе.

Предложенное ИИ решение можно интепретировать следующим образом. Модификация существующих связей между вершинами (скважинами) представляет собой либо увеличение пористости нефтеносного пласта (гидроразрыв), либо ее уменьшение (закачка цементных тампонажных растворов). Наличие новой связи (V10-V7), как бы это не было парадоксально, можно рассматривать даже как прокладку трубопровода, перекачивающего нефтяную эмульсию из одной скважину в другую (в том случае, если проведение гидроразрыва не представляется возможным).

В итоге применения рекомендуемого ИИ решения получается эффективное решение поставленной задачи (см. рис. 6) —  значение веса для вершины К17 стабилизируется с течением времени в районе отметки 1,8 (то есть не намного ниже, чем начальные значения), дефицит ресурса ни на одном из шагов моделирования так же не наблюдается.

[Файл с решением, полученным ИИ](data/Example1-3OldResultsAI.cmj)

![Рис. 6](pics/xPic6.png)

_Рис. 6 — Результат моделирования жизненного цикла модифицированной по рекомендации ИИ системы_

## 5 Решение, полученное новой версией алгоритмов ИИ (2023 год)

С целью подтверждения работоспособности новых алгоритмов ИИ, была создана аналогичная описанной когнитивная модель исследуемой предметной области. В ней параметры когнитивной карты (веса вершин и ребер) описываются в виде дискретных случайных величин: основное (наиболее вероятное значение) значение взято из старой модели, дополительные (менее вероятные) значения - имитируют плюрализм мнений привлекаемых для оценки модели экспертов, внося некоторый "шум", отклоняющий значение в большую и меньшу сторону и создавая распределение случайной величины.

В остальном, полученная когнитивная карта аналогична начальной карте, представленной выше (рис. 7).

[Когнитивная карта, для новой версии алгоритма ИИ](data/Example1-4Rnd.zip)

[Результат моделирования для новой версии алгоритма ИИ](data/Example1-5RndResultsAI.cmj)

![Рис. 7](pics/xPic7.png)

_Рис. 7 — Результат моделирования жизненного цикла модифицированной по рекомендации ИИ системы_

 В результате проведения моделирования получены, в целом, результаты, несколько лучшие, нежели результаты, полученные при использовании предыдущей версии алгоритмов ИИ: решение тоже получается эффективным — значение веса для целевой вершины (К17) стабилизируется в районе отметки 1,98, что даже несколько превышает начальное значение; дефицит ресурса так же не наблюдается ни на одном из шагов моделирования.

![Рис. 8](pics/xPic8.png)

_Рис. 8 — Результат моделирования жизненного цикла модифицированной по рекомендации новой версии ИИ системы_

## 6 Сравнение решений

Сравнивая решения, предложенные человеком и двумя версиями алгоритмов ИИ (рис. 4, 6 и 8), можно убедиться в том, что:
- решение ИИ более эффективно, чем решение, предложенное человеком (отстствует "провал" с прекращением или существенным ограничением  добычи на 2-м шаге моделирования, а так же происходит более быстрая стабилизация процесса),
- решение нового алгоритма ИИ чуть более эффективно, чем решение, предложенное ИИ предыдущей версии (позволяет несколько превзойти начальные показатели).
<br><br>

## 7 Экспериментальные исследования

С целью проведения экспериментальных исследований разработанных новых алгоритмов ИИ и проверки их программной реализации была разработана [соответствующая версия контрольного примера](data/Example1.zip).

Сравнивая решения, предложенные человеком и ИИ, можно убедиться в том, что решения ИИ более эффективны, причем новая версия алгоритмов несколько превосходит предыдущую.

## 8 Выводы

По итогам сравнения обработки в одно- и многомашинном варианте (без применения компонента "Инструментарий параллельной обработки когнитивных карт" и с его использованием) было выявлено соответствие результатов, доказывающее правомерность применения данного подхода. Как и было предположено, время, затарчиваемое на обсчет, уменьшается пропорционально увеличению вычислительных мощностей (с поправкой на дискретность дробления общей задачи на подзадачи, решаемые на распределенных вычислительных узлах).
